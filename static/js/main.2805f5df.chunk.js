(this["webpackJsonplearn-threejs-in-react-way"]=this["webpackJsonplearn-threejs-in-react-way"]||[]).push([[0],{103:function(e){e.exports=JSON.parse('{"name":"learn-threejs-in-react-way","version":"0.1.0","homepage":"https://xjkit.github.io/learn-threejs-in-react-way","author":{"name":"Jay Chung","email":"xjkit54780@gmail.com","url":"https://github.com/xJkit"},"private":true,"dependencies":{"@chakra-ui/react":"^1.6.2","@emotion/react":"^11","@emotion/styled":"^11","@react-three/drei":"^5.2.0","@react-three/fiber":"^6.2.1","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","framer-motion":"^4","gh-pages":"^3.2.0","leva":"^0.9.10","react":"^17.0.2","react-dom":"^17.0.2","react-icons":"^4.2.0","react-router-dom":"^5.2.0","react-scripts":"4.0.3","three":"^0.128.0","web-vitals":"^1.0.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},135:function(e,t,r){"use strict";r.r(t);var i=r(0),n=r.n(i),a=r(43),o=r.n(a),s=r(151),l=r(74),c=r(9),h=r(152),u=r(148),b=r(145),d=r(149),p=r(150),j=r(22),m=r(108),g=r(143),O=r(144),f=r(146),x=r(10);var v=r(6),y=r(7),L=r(25),w=r(153),C=r(147),k=r(35),M=r(11),P={basic:"basic",normal:"normal",depth:"depth",line:"line",points:"points",lambert:"lambert",phong:"phong",standard:"standard"};function S(e){var t,r=e.kind,n=e.lights,a=void 0===n?[]:n,o=Object(y.a)((t={},Object(v.a)(t,P.basic,["Basic Materials","Uniform color on the geometry surfaces"]),Object(v.a)(t,P.normal,["Normal Materials","A material that maps the normal vectors to RGB colors"]),Object(v.a)(t,P.depth,["Depth Materials","color based on the distance from camera: closer gets darker, further gets lighter"]),Object(v.a)(t,P.line,["Line Materials","Only show the outline of the shape"]),Object(v.a)(t,P.points,["Points Materials","Only show the points outline of the shape"]),Object(v.a)(t,P.lambert,["Lambert Materials","Light sensitive material which simulates the Lambertian Reflection"]),Object(v.a)(t,P.phong,["Phong Materials","A material for shinny surfaces with specular effects"]),Object(v.a)(t,P.standard,["Standard Materials","A material uses a metalic-roughness model to simulate real material"]),t)[r],2),s=o[0],l=o[1];return Object(x.jsxs)(h.a,{maxWidth:"600px",spacing:3,color:"blue.800",alignItems:"flex-start",fontWeight:"bold",children:[Object(x.jsx)(f.a,{fontSize:"2xl",children:s}),Object(x.jsx)(f.a,{children:l}),a.map((function(e,t){var r=Object(y.a)(e,2),n=r[0],a=r[1];return Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)(f.a,{fontSize:"2xl",children:n}),Object(x.jsx)(f.a,{children:a})]},t)}))]})}function H(e){var t=e.backgroundColor,r=e.followed,n=e.targetRef,a=Object(L.c)((function(e){return e.scene})),o=Object(L.c)((function(e){return e.camera}));a.background=new M.Color(t);var s=Object(i.useCallback)((function(){r&&n.current&&o.lookAt(n.current.position)}),[r,n,o]);return Object(L.b)(s),null}function I(e){var t=e.ambientLight,r=e.hemisphereLight,n=e.directionalLight,a=e.directionalHelper,o=e.directionalPosition,s=e.pointLight,l=e.pointHelper,c=e.pointPosition,h=e.spotLight,u=e.spotPosition,b=e.spotHelper,d=e.spotDistance,p=e.penumbra,j=e.decay,m=e.spotAngle,g=e.lightColor,O=e.lightIntensity,f=e.skyColor,v=e.groundColor,y=Object(i.useRef)(),L=Object(i.useRef)(),w=Object(i.useRef)();return Object(C.a)(a&&y,M.DirectionalLightHelper),Object(C.a)(l&&L,M.PointLightHelper),Object(C.a)(b&&w,M.SpotLightHelper),Object(x.jsxs)(x.Fragment,{children:[t&&Object(x.jsx)("ambientLight",{color:g,intensity:O}),r&&Object(x.jsx)("hemisphereLight",{intensity:O,skyColor:f,groundColor:v}),n&&Object(x.jsx)("directionalLight",{position:[o[0],1.5,o[1]],ref:y,color:g,intensity:O}),s&&Object(x.jsx)("pointLight",{ref:L,color:g,position:[c[0],.5,c[1]],intensity:O,distance:10}),h&&Object(x.jsx)("spotLight",{ref:w,color:g,position:[u[0],2,u[1]],intensity:O,distance:d,angle:m,penumbra:p,decay:j})]})}function R(e){var t,r=e.donutRef,i=e.kind,n=e.oscillation,a=e.color,o=e.emissiveColor,s=e.emissiveIntensity,l=e.opacity,c=e.isDoubleSide,h=e.isRotate,u=e.shininess,b=e.specular,d=e.metalness,p=e.roughness,j=0;return Object(L.b)((function(){r.current&&(n&&(r.current.position.y=Math.sin(j)),h&&(r.current.rotation.x=j),j+=.01)})),[P.line].includes(i)?Object(x.jsxs)("line",{ref:r,"rotation-x":-30/180*Math.PI,children:[Object(x.jsx)("torusGeometry",{args:[.5,.2,30,30]}),Object(x.jsx)("lineBasicMaterial",{color:a,linewidth:1})]}):[P.points].includes(i)?Object(x.jsxs)("points",{ref:r,"rotation-x":-30/180*Math.PI,children:[Object(x.jsx)("torusGeometry",{args:[.5,.2,30,30]}),Object(x.jsx)("pointsMaterial",{color:a,size:.01})]}):Object(x.jsxs)("mesh",{ref:r,"rotation-x":-30/180*Math.PI,castShadow:!0,receiveShadow:!0,children:[Object(x.jsx)("torusGeometry",{args:[.5,.2,30,30]}),(t={},Object(v.a)(t,P.basic,Object(x.jsx)("meshBasicMaterial",{color:a,opacity:l,transparent:l})),Object(v.a)(t,P.normal,Object(x.jsx)("meshNormalMaterial",{opacity:l,transparent:1!==l})),Object(v.a)(t,P.depth,Object(x.jsx)("meshDepthMaterial",{color:a,opacity:l,transparent:l})),Object(v.a)(t,P.lambert,Object(x.jsx)("meshLambertMaterial",{color:a,emissive:o,emissiveIntensity:s,side:c?M.DoubleSide:M.FrontSide,opacity:l,transparent:1!==l})),Object(v.a)(t,P.phong,Object(x.jsx)("meshPhongMaterial",{color:a,emissive:o,emissiveIntensity:s,side:c?M.DoubleSide:M.FrontSide,shininess:u,specular:b,opacity:l,transparent:1!==l})),Object(v.a)(t,P.standard,Object(x.jsx)("meshStandardMaterial",{color:a,emissive:o,emissiveIntensity:s,side:c?M.DoubleSide:M.FrontSide,metalness:d,roughness:p,opacity:l,transparent:1!==l})),t)[i]||null]})}function D(e){var t=e.color;return Object(x.jsxs)("mesh",{"rotation-x":-.5*Math.PI,children:[Object(x.jsx)("planeGeometry",{args:[2,2]}),Object(x.jsx)("meshStandardMaterial",{color:t,metalness:.6,roughness:0})]})}function A(){var e=Object(i.useRef)(),t=Object(i.useRef)(0),r=Object(i.useRef)(0),n=Object(i.useRef)(.1);Object(L.b)((function(i){e.current.position.x!==t.current&&(e.current.position.x=parseFloat((e.current.position.x+n.current).toFixed(2)),e.current.rotation.x+=n.current,i.camera.position.x=parseFloat((i.camera.position.x+n.current).toFixed(2))),e.current.position.z!==r.current&&(e.current.position.z=parseFloat((e.current.position.z+n.current).toFixed(2)),e.current.rotation.z+=n.current,i.camera.position.z=parseFloat((i.camera.position.z+n.current).toFixed(2)))}));var a=Object(i.useCallback)((function(e){switch(e.key){case"ArrowUp":t.current-=1,n.current=-.1;break;case"ArrowDown":t.current+=1,n.current=.1;break;case"ArrowRight":r.current-=1,n.current=-.1;break;case"ArrowLeft":r.current+=1,n.current=.1}}),[]);return Object(i.useEffect)((function(){return document.addEventListener("keydown",a,!1),function(){return document.removeEventListener("keydown",a)}}),[a]),Object(x.jsxs)("mesh",{ref:e,position:[t.current,1,r.current],children:[Object(x.jsx)("sphereGeometry",{args:[1,30,30]}),Object(x.jsx)("meshStandardMaterial",{color:"red"})]})}function F(e){var t=Object(i.useRef)();return Object(C.a)(t,M.DirectionalLightHelper),Object(x.jsx)("directionalLight",Object(c.a)({position:[10,10,10],ref:t},e))}function G(){return Object(x.jsx)(u.a,{w:"100%",h:"100%",children:Object(x.jsx)(O.a,{color:"gray.300",children:"Not Found Page"})})}var T=[{path:"/",title:"Demo",Component:function(){var e=Object(k.b)({backgroundColor:{label:"Background",value:"#111111"},isAxesHelper:{label:"Axes",value:!0},isGridHelper:{label:"Grid",value:!0},oscillation:{label:"Oscillation",value:!0},isRotate:{label:"Rotation",value:!0},followed:{label:"Camera Lock",value:!1},Ground:Object(k.a)({showGround:{label:"Display",value:!0},groundPlaneColor:{label:"Color",value:"#218550",render:function(e){return e("Ground.showGround")}}}),Object:Object(k.a)({materialKind:{label:"Kind",value:P.standard,options:{"Basic Material":P.basic,"Normal Material":P.normal,"Depth Material":P.depth,"Line Material":P.line,"Points Material":P.points,"Lambert Material":P.lambert,"Phong Material":P.phong,"Standard Material":P.standard}},materialColor:{label:"Color",value:"#aaa123",render:function(e){return e("Object.materialKind")!==P.normal}},opacity:{label:"Opacity",value:1,min:0,max:1,step:.1},emissiveColor:{label:"Emissive",value:"#ffffff",render:function(e){return e("Object.materialKind")===P.lambert}},emissiveIntensity:{label:"Intensity",value:0,min:0,max:5,step:.1,render:function(e){return e("Object.materialKind")===P.lambert}},isDoubleSide:{label:"DoubleSided",value:!1,render:function(e){return e("Object.materialKind")===P.lambert}},shininess:{label:"Shininess",value:30,min:0,max:100,render:function(e){return e("Object.materialKind")===P.phong}},specular:{label:"Specular",value:"#111111",render:function(e){return e("Object.materialKind")===P.phong}},metalness:{label:"Metalness",value:.5,min:0,max:1,step:.1,render:function(e){return e("Object.materialKind")===P.standard}},roughness:{label:"Roughness",value:.5,min:0,max:1,step:.1,render:function(e){return e("Object.materialKind")===P.standard}}}),Lights:Object(k.a)({lightColor:{label:"Color",value:"#ee6b6b"},lightIntensity:{label:"Intensity",value:8,min:0,max:10},"Spot Light":Object(k.a)({spot:{label:"Turn On",value:!0},spotHelper:{label:"Helper",value:!0,render:function(e){return e("Lights.Spot Light.spot")}},spotPosition:{label:"Position",value:[0,0],step:.5,render:function(e){return e("Lights.Spot Light.spot")}},spotDistance:{label:"Distance",value:3,render:function(e){return e("Lights.Spot Light.spot")}},spotAngle:{label:"Angle",value:1/6*Math.PI,step:.1*Math.PI,min:0,max:2*Math.PI,render:function(e){return e("Lights.Spot Light.spot")}},penumbra:{label:"Penumbra",value:.1,step:.1,min:0,max:1,render:function(e){return e("Lights.Spot Light.spot")}},decay:{label:"Decay",value:.1,step:.1,min:0,max:1,render:function(e){return e("Lights.Spot Light.spot")}}}),"Ambient Light":Object(k.a)({ambient:{label:"Turn On",value:!1}}),"Hemisphere Light":Object(k.a)({hemisphere:{label:"Turn On",value:!1},skyColor:{label:"Sky Color",value:"#333888",render:function(e){return e("Lights.Hemisphere Light.hemisphere")}},groundColor:{label:"Ground Color",value:"#aaaaaa",render:function(e){return e("Lights.Hemisphere Light.hemisphere")}}}),"Directional Light":Object(k.a)({directional:{label:"Turn On",value:!1},directionalHelper:{label:"Helper",value:!0,render:function(e){return e("Lights.Directional Light.directional")}},directionalPosition:{label:"Position",value:[0,0],step:.5,render:function(e){return e("Lights.Directional Light.directional")}}}),"Point Line":Object(k.a)({point:{label:"Turn On",value:!1},pointHelper:{label:"Helper",value:!0,render:function(e){return e("Lights.Point Line.point")}},pointPosition:{label:"Position",value:[0,0],step:.5,render:function(e){return e("Lights.Point Line.point")}}})})}),t=e.backgroundColor,r=e.isAxesHelper,n=e.isGridHelper,a=e.oscillation,o=e.followed,s=e.showGround,l=e.groundPlaneColor,c=e.materialKind,u=e.materialColor,b=e.emissiveColor,d=e.emissiveIntensity,p=e.isDoubleSide,j=e.opacity,m=e.isRotate,O=e.shininess,f=e.specular,v=e.metalness,y=e.roughness,C=e.lightColor,A=e.lightIntensity,F=e.ambient,G=e.hemisphere,T=e.skyColor,K=e.groundColor,z=e.directional,_=e.directionalHelper,B=e.directionalPosition,J=e.point,W=e.pointPosition,E=e.pointHelper,N=e.spot,U=e.spotPosition,q=e.spotHelper,Q=e.spotDistance,V=e.spotAngle,X=e.penumbra,Y=e.decay,Z=Object(i.useMemo)((function(){return[F&&["Ambient Light","illuminate everywhere in the same level (does not come from a specific direction)."],G&&["Hemisphere Light","A light source positioned directly above the scene just like the sky light, with color fading from the sky color to the ground color. This light cannot be used to cast shadows."],z&&["Directional Light","A light that gets emitted in a specific direction. This light will behave as though it is infinitely far away and the rays produced from it are all parallel. The common use case for this is to simulate daylight; the sun is far enough away that its position can be considered to be infinite, and all light rays coming from it are parallel."],J&&["Point Light","A light that gets emitted from a single point in all directions. A common use case for this is to replicate the light emitted from a bare lightbulb."],N&&["Spot Light","A light comes from a single point."]].filter(Boolean)}),[F,G,z,J,N]),$=Object(i.useRef)(),ee=Object(i.useRef)();return Object(x.jsxs)(h.a,{w:"100%",h:"100%",alignItems:"flex-start",children:[Object(x.jsx)(S,{kind:c,lights:Z}),Object(x.jsx)(g.a,{w:"100%",flex:1,children:Object(x.jsxs)(L.a,{camera:{position:[2,2,2]},onCreated:function(e){e.scene.background=new M.Color(t)},children:[Object(x.jsx)(H,{backgroundColor:t,followed:o,targetRef:$,controlRef:ee}),Object(x.jsx)(R,{donutRef:$,oscillation:a,kind:c,color:u,emissiveColor:b,emissiveIntensity:d,opacity:j,isDoubleSide:p,isRotate:m,shineness:O,specular:f,metalness:v,roughness:y}),s&&Object(x.jsx)(D,{color:l}),Object(x.jsx)(I,{ambientLight:F,hemisphereLight:G,directionalLight:z,pointLight:J,pointPosition:W,pointHelper:E,spotLight:N,spotPosition:U,spotHelper:q,spotDistance:Q,spotAngle:V,penumbra:X,decay:Y,directionalHelper:_,directionalPosition:B,lightColor:C,lightIntensity:A,skyColor:T,groundColor:K}),r&&Object(x.jsx)("axesHelper",{}),n&&Object(x.jsx)("gridHelper",{}),!o&&Object(x.jsx)(w.a,{ref:ee})]})})]})}},{path:"/read-me",title:"Read Me",Component:function(){return Object(x.jsxs)(g.a,{color:"blue.800",w:"100%",fontSize:"xl",children:[Object(x.jsxs)(O.a,{mb:10,children:["Learn Three.js in"," ",Object(x.jsx)(b.a,{color:"blue.500",href:"https://reactjs.org/",target:"_blank",children:"React"})," ","way"]}),Object(x.jsxs)(h.a,{spacing:5,alignItems:"flex-start",children:[Object(x.jsxs)(f.a,{children:[Object(x.jsx)(b.a,{href:"https://threejs.org/",target:"_blank",color:"blue.500",children:"Three.js"})," ","is an awesome library that makes the Web 3D development a lot easier."]}),Object(x.jsxs)(f.a,{children:["However, when I begin three.js, from this"," ",Object(x.jsx)(b.a,{color:"blue.500",href:"https://github.com/mrdoob/three.js/blob/master/examples/webgl_animation_cloth.html",target:"_blank",children:"official documentation code example"}),", creating meshes, objects, materials, lights, render loops, and so on in imperative way is not really my thing. Why not just create everything in"," ",Object(x.jsx)("b",{children:"declarative, more functional, and component-based objects!"})," That is what React looks like."]}),Object(x.jsxs)(f.a,{children:["Special thanks to the three.js react renderer"," ",Object(x.jsx)(b.a,{href:"https://github.com/pmndrs/react-three-fiber",color:"blue.500",target:"_blank",children:"react-three/fiber"})," ","which makes web 3d happen in React world."]}),Object(x.jsxs)(f.a,{children:["It is welcome to check my"," ",Object(x.jsx)(b.a,{color:"blue.500",href:"https://github.com/xJkit/learn-threejs-in-react-way",target:"_blank",children:"source code."})," ","Any suggestion and PR is welcome!"]})]})]})}},{path:"/interaction",title:"Interaction",Component:function(){return Object(x.jsxs)(h.a,{w:"100%",h:"100%",alignItems:"stretch",children:[Object(x.jsx)(f.a,{fontSize:"4xl",fontWeight:"bold",children:"Use Arrow Key to Move the Object"}),Object(x.jsx)(g.a,{flex:1,children:Object(x.jsxs)(L.a,{camera:{position:[8,8,-4]},onCreated:function(e){e.scene.background=new M.Color(11184810)},children:[Object(x.jsx)("gridHelper",{}),Object(x.jsx)(A,{}),Object(x.jsx)(F,{})]})})]})}}];function K(){return Object(x.jsxs)(h.a,{h:"100%",w:"100%",pt:4,bgColor:"blue.800",color:"white",fontWeight:"bold",alignItems:"stretch",pos:"relative",children:[T.map((function(e){return Object(x.jsx)(l.b,{to:e.path,children:Object(x.jsx)(u.a,{color:"blue.100",w:"100%",p:3,_hover:{bgColor:"blue.700"},children:e.title})},e.title)})),Object(x.jsx)(u.a,{bgColor:"blue.100",pos:"absolute",lineHeight:"60px",bottom:0,left:0,right:0,color:"blue.800",children:Object(x.jsxs)(b.a,{href:"https://github.com/xJkit",target:"_blank",children:[Object(x.jsx)(d.a,{as:m.a,mr:2}),"Jay Chung"]})})]})}function z(e){return Object(x.jsx)(h.a,Object(c.a)(Object(c.a)({h:"100%",w:"100%",overflow:"hidden"},e),{},{py:8,px:5,children:Object(x.jsxs)(j.c,{children:[T.map((function(e){return Object(x.jsx)(j.a,{exact:!0,path:e.path,component:e.Component},e.path)})),Object(x.jsx)(j.a,{component:G})]})}))}var _=function(){return Object(x.jsxs)(p.a,{h:"100vh",w:"100vw",templateColumns:"140px 1fr",children:[Object(x.jsx)(K,{}),Object(x.jsx)(z,{})]})},B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,154)).then((function(t){var r=t.getCLS,i=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),i(e),n(e),a(e),o(e)}))},J=r(103);o.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(l.a,{basename:"/".concat(J.name),children:Object(x.jsx)(s.a,{children:Object(x.jsx)(_,{})})})}),document.getElementById("root")),B()}},[[135,1,2]]]);
//# sourceMappingURL=main.2805f5df.chunk.js.map